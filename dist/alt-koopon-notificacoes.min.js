!function(t){"use strict";t.module("alt.koopon.notificacoes",[]).provider("AltKooponNotificacoesService",[function(){var t=this;t.BASE_API="/koopon-rest-api/",this.$get=["$http","$q",function(o,n){var c=function(){this.TEMPO_BUSCA=3e5,this.URL=t.BASE_API+"mensagens/count"};return c.prototype.buscar=function(){return o.get(this.URL).then(function(t){return t.data})["catch"](function(t){return n.reject(t.data)})},new c}]}]).controller("AltKooponNotificacoesController",["$rootScope","$interval","AltKooponNotificacoesService",function(t,o,n){var c=this;c.qtdNotificacoes=0,c._idInterval=0,c._buscar=function(){n.buscar().then(function(t){c.qtdNotificacoes=t.qtd})},function(){c._buscar(),c._idInterval=o(c._buscar,n.TEMPO_BUSCA),t.$on("$locationChangeSuccess",function(){c._buscar(),o.cancel(c._idInterval),c._idInterval=o(c._buscar,n.TEMPO_BUSCA)})}()}])}(angular);